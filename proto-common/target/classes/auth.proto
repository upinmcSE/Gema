syntax = "proto3";

option java_multiple_files = true;
option java_package = "io.upinmcSE.grpc.gen";
option java_outer_classname = "AuthProto";


service AuthGrpcService {
  rpc CreateAccount(CreateAccountRequest) returns (CreateAccountResponse) {}
  rpc CreateSession(CreateSessionRequest) returns (CreateSessionResponse) {}
  rpc VerifySession(VerifySessionRequest) returns (VerifySessionResponse) {}
}

message Account {
  uint64 id = 1;
  string account_name = 2;
}

message CreateAccountRequest {
  string account_name = 1;
  string password = 2;
}

message CreateAccountResponse {
  uint64 account_id = 1;
}

message CreateSessionRequest {
  string account_name = 1;
  string password = 2;
}

message CreateSessionResponse {
  string token = 1;
  Account account = 2;
}

message VerifySessionRequest {
  string token = 1;
}

message VerifySessionResponse {
  uint64 account_id = 1;
}
